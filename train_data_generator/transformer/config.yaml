# Конфигурация трансформера BPMN → PNG

# Входная и выходная директории
input_dir: "../basic/output"  # Директория с выходом basic генератора
output_dir: "./output"         # Директория для результатов

# Настройки рендеринга
rendering:
  # Разрешение (длинная сторона)
  min_resolution: 2048
  max_resolution: 2048
  
  # Цветовые темы
  themes:
    - light
    - dark
    - contrast
  
  # Вероятности выбора темы
  theme_weights:
    light: 1.0
    dark: 0.0
    contrast: 0.0

# Цветовые палитры для тем
color_palettes:
  light:
    background: ["#FFFFFF", "#F8F9FA"]
    task_fill: ["#E3F2FD", "#E8F5E9", "#FFF3E0"]
    task_stroke: ["#1976D2", "#388E3C", "#F57C00"]
    gateway_fill: ["#FFF9C4", "#FFE0B2"]
    gateway_stroke: ["#F57F17", "#E65100"]
    event_fill: ["#E1F5FE", "#F1F8E9"]
    event_stroke: ["#0277BD", "#558B2F"]
    flow_stroke: ["#212121", "#424242"]  # Темнее для лучшей видимости
    text_color: ["#212121", "#000000"]
  
  dark:
    background: ["#2D2D2D", "#1E1E1E"]
    task_fill: ["#37474F", "#455A64", "#546E7A"]
    task_stroke: ["#90CAF9", "#A5D6A7", "#FFCC80"]
    gateway_fill: ["#5D4037", "#6D4C41"]
    gateway_stroke: ["#FFD54F", "#FFB74D"]
    event_fill: ["#455A64", "#546E7A"]
    event_stroke: ["#81D4FA", "#AED581"]
    flow_stroke: ["#FFFFFF", "#E0E0E0"]  # Светлее для видимости на темном фоне
    text_color: ["#FFFFFF", "#F5F5F5"]
  
  contrast:
    background: ["#FFFFFF"]
    task_fill: ["#E3F2FD", "#E8F5E9"]
    task_stroke: ["#000000"]
    gateway_fill: ["#FFF9C4"]
    gateway_stroke: ["#000000"]
    event_fill: ["#E1F5FE"]
    event_stroke: ["#000000"]
    flow_stroke: ["#000000"]
    text_color: ["#000000"]

# Настройки шрифтов
# ВАЖНО: Рендерер автоматически ищет системные шрифты с поддержкой Unicode/кириллицы
# Поддерживаемые пути:
#   - Linux: /usr/share/fonts/truetype/dejavu/DejaVuSans.ttf
#   - macOS: /System/Library/Fonts/Helvetica.ttc
#   - Windows: C:\Windows\Fonts\arial.ttf
fonts:
  available:
    - "System Default"  # Автоматический выбор системного шрифта
  
  # Размеры шрифтов - увеличены для лучшей читаемости
  task_name_size: [10]
  gateway_name_size: [11]
  event_name_size: [11]
  flow_label_size: [11]

# Настройки геометрии
geometry:
  # Толщина линий - согласно BPMN стандарту
  task_stroke_width: [2.0]
  gateway_stroke_width: [2.5]
  event_stroke_width: [2.5]
  flow_stroke_width: [2.0]  # Увеличено для лучшей видимости
  
  # Скругление углов задач (BPMN стандарт - небольшое скругление)
  task_corner_radius: [5]
  
  # Размеры стрелок - увеличены для видимости
  arrow_size: [12]
  
  # Отступы для текста - увеличены
  text_padding: [5]
  
  # Межстрочный интервал
  line_spacing: [1.2]

# Настройки аугментации
augmentation:
  # Случайные смещения меток (в пикселях)
  label_offset:
    enabled: false
    max_x: 5
    max_y: 5
  
  # Поворот изображения (в градусах)
  rotation:
    enabled: false
    min_angle: -2
    max_angle: 2
  
  # Зум и панорамирование
  zoom_pan:
    enabled: false
    zoom_range: [0.95, 1.05]
    pan_range: [-20, 20]  # пиксели
  
  # JPEG артефакты
  jpeg_artifacts:
    enabled: false
    quality_range: [90, 99]
  
  # Гауссово размытие
  gaussian_blur:
    enabled: false
    kernel_size: [0, 1]  # 0 = без размытия
    sigma: [0.3, 0.5, 0.7]
  
  # Шум
  noise:
    enabled: false
    noise_level: [0, 2, 4]  # стандартное отклонение
  
  # Яркость и контраст
  brightness_contrast:
    enabled: false
    brightness_range: [-20, 20]
    contrast_range: [0.9, 1.1]
  
  # Перспективная дисторсия
  perspective:
    enabled: false
    max_distortion: 0.02  # максимальное искажение

# Вероятности применения аугментаций
augmentation_probabilities:
  label_offset: 0.3
  rotation: 0.5
  zoom_pan: 0.3
  jpeg_artifacts: 0.4
  gaussian_blur: 0.2
  noise: 0.3
  brightness_contrast: 0.4
  perspective: 0.2

# Настройки организации файлов
file_organization:
  # Создавать отдельную директорию для каждого примера
  separate_dirs: true
  # Формат имени директории
  dir_name_format: "sample_{id:06d}"