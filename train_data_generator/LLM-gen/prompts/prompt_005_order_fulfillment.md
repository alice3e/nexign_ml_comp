# Процесс обработки и выполнения заказа на складе

Создай BPMN диаграмму процесса обработки заказа от получения до отгрузки на складе логистической компании.

## Основные участники:
- Система управления заказами (WMS)
- Отдел приемки заказов
- Склад (комплектация)
- Отдел контроля качества
- Отдел отгрузки

## Описание процесса:
1. Система получает новый заказ от клиента
2. Система автоматически проверяет наличие товаров на складе
3. Если все товары в наличии:
   - Система создает задание на комплектацию
   - Система резервирует товары
4. Если каких-то товаров нет в наличии:
   - Система создает частичный заказ для доступных товаров
   - Система отправляет уведомление клиенту о частичной доступности
   - Клиент принимает решение: ждать полной комплектации или получить частичный заказ
5. Параллельно с резервированием:
   - Система печатает накладные и этикетки
   - Система определяет оптимальный маршрут комплектации на складе
6. Сотрудник склада получает задание и начинает комплектацию:
   - Сканирует товары по списку
   - Размещает товары в контейнер
   - Система контролирует правильность комплектации
7. Если при комплектации обнаружено расхождение:
   - Система фиксирует расхождение
   - Сотрудник проводит повторную проверку
   - Если товар действительно отсутствует - корректировка заказа
8. После комплектации заказ передается в отдел контроля качества
9. Контроль качества проверяет:
   - Соответствие товаров заказу
   - Целостность упаковки
   - Наличие всех документов
10. Если проверка не пройдена - возврат на доработку
11. Если проверка пройдена - заказ передается в отдел отгрузки
12. Отдел отгрузки:
    - Упаковывает заказ
    - Взвешивает и измеряет габариты
    - Выбирает транспортную компанию
    - Формирует транспортную накладную
13. Заказ передается курьеру или в транспортную компанию
14. Система обновляет статус заказа и отправляет уведомление клиенту с трек-номером
15. Процесс завершается

## Требования:
- Используй 1 пул с 5 лейнами (Система, Приемка, Склад, Контроль качества, Отгрузка)
- Используй XOR Gateway для проверки наличия товаров и результатов контроля качества
- Используй Parallel Gateway для параллельной печати документов и определения маршрута
- Добавь подпроцесс для процесса комплектации товаров
- Используй цикл (loop) для повторной проверки при обнаружении расхождений
- Добавь Timer Boundary Event для контроля времени комплектации (не более 2 часов)
- Используй Intermediate Message Event для уведомлений клиента