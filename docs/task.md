# Техническое задание

**Сервис распознавания алгоритмов по диаграммам**

## 1. Цель работы

Разработать программный сервис, который:

1. Принимает на вход изображение с диаграммой алгоритма.
2. Автоматически распознаёт структуру диаграммы.
3. Генерирует формализованное текстовое описание алгоритма, изображённого на диаграмме.

Опционально:

* Реализовать обратную задачу: по текстовому описанию алгоритма генерировать диаграмму в одном из стандартных форматов.

---

## 2. Область применения и типы входных данных

### 2.1 Поддерживаемые типы диаграмм

Система должна корректно обрабатывать, как минимум, следующие виды диаграмм:

* **BPMN-диаграммы**
* **Произвольные блок-схемы**, состоящие из:

  * прямоугольных блоков (операции),
  * ромбов (условия),
  * стрелок управления потоком.

Допускается вариативность визуального оформления (цвета, шрифты, размеры), при сохранении логической структуры.

---

## 3. Функциональные требования

### 3.1 Основной функционал

Сервис должен предоставлять следующие функции:

1. Приём изображения диаграммы через REST API.
2. Анализ изображения и выделение:
   * узлов (операций, условий, событий),
   * связей между узлами,
   * направления потока управления.
3. Генерация текстового описания алгоритма, включающего:
   * последовательность шагов,
   * условия ветвления,
   * циклы (если применимо).

### 3.2 Обратная задача (опционально)

При наличии текстового описания алгоритма система должна уметь:

* Генерировать диаграмму в одном из форматов:
  * BPMN,
  * UML Activity Diagram,
  * Mermaid,
  * Camunda Modeler,
  * PlantUML.

---

## 4. Нефункциональные требования

### 4.1 Лицензирование

* Все используемые библиотеки, модели и инструменты должны иметь лицензии, совместимые с **Apache 2.0** или **MIT**.
* Использование проприетарных моделей или API не допускается.

### 4.2 Производительность и ресурсы

* Система должна запускаться:
  * на **GPU с объёмом видеопамяти менее 8 GB**,
  * **бонус**: возможность работы исключительно на CPU.
  * только локальный инференс, никаких походов в сторонние API
* Время обработки **одного изображения** в ненагруженном состоянии:
  * не более **20 секунд**.

### 4.3 Архитектурные требования

* Сервис должен быть упакован в **Docker-контейнер**.
* Взаимодействие осуществляется через **REST API**.
* Архитектура должна допускать горизонтальное масштабирование.

---

## 5. Требования к реализации

### 5.1 Обязательные элементы реализации

* Работоспособность на CPU.
* Работоспособность на GPU.
* Реализованный REST API.
* Минимальная документация:
  * описание архитектуры,
  * описание API (эндпоинты, форматы запросов и ответов).
* Пользовательский интерфейс (UI) — минимальный, демонстрационный.
* Dockerfile и инструкции по запуску.
* (При реализации опциональной части) — обратное преобразование текста в диаграмму.

---

## 6. Критерии приёмки

### 6.1 Реализация концепции

Система считается принятой, если:
* сервис успешно запускается;
* корректно обрабатывает изображения диаграмм;
* генерирует осмысленное и структурированное описание алгоритма;
* API задокументирован и воспроизводим;
* контейнеризация реализована.

### 6.2 Подача и презентация решения

Необходимо предоставить:
* описание архитектуры системы;
* описание технологического стека;
* обоснование выбора технологий;
* демонстрацию метрик (latency, throughput, resource usage);
* sizing (оценка потребления CPU/GPU/RAM);
* перечень используемых лицензий.

### 6.3 Инженерная продуманность

Решение должно демонстрировать:
* понимание требований enterprise-систем;
* возможность масштабирования;
* задел для работы в условиях highload;
* аккуратное разделение компонентов (ingestion, inference, post-processing).

---

## 7. Ожидаемый результат

Итогом работы является:

* репозиторий с исходным кодом;
* Docker-образ сервиса;
* документация;
* демонстрационный сценарий использования (пример запроса и ответа).

---
